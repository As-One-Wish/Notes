# 一、公共语言运行时

## 1、相关概念区分

- .NET:以下技术的统称，是一个开发平台
- .Net Framework/.Net Core/Mono:3种将.Net技术打包发行的方式，其选择的组件不一定相同
- CLR:`Common Language Runtime`，一个**执行引擎**，用于进行一类程序（CLI），提供类型系统、垃圾回收、JIT等功能
- CLI:`Common Language Infrastructure`，一个经标准化组织认证的标准（ECMA-335），定义了CLR的基础功能和其上执行的程序的标准
- IL:`Intermediate Language`，用于将程序**直接**输入CLR的格式，包含二进制格式与其对应的文本格式；IL中的任何构造都与CLR内部严格一一对应
- CoreFX:随CLR一同发行的发行的一组子程序与类型，任何在CLR上运行的程序皆可调用；其中最底层的部分不能完全用IL表示，有些则是对CLR自身功能的调用，而上层可能依赖对底层的假设，因此其版本与CLR的版本是绑定的
- C#:一个编程语言，使用C语系风格；除了IL能直接表示的基本功能外，还提供了一些经过一定封装的功能；每个功能都可能需要假定CoreFX提供了特定的类型来完成；另两个对应的、由第一方支持的编程语言为F#和VB，其功能集和C#不完全一致
- Roslyn:第一方（标准制定者）实现的编译器，Mono也实现了一个（mcs），二者共同遵循C#语言标准
- .Net Standard:在不同的发行之间为CoreFX的公开接口（即使用方法）及行为规定标准，但不关心其具体实现细节，也允许每个发行提供一些额外内容

## 2、托管&&非托管

- **托管代码（Managed Code）：**
  - 托管代码是由CLR管理的代码。
  - 托管代码通常是用高级语言（如C#、VB.NET）编写的，这些代码会被编译成中间语言（IL）并存储在程序集中。
  - 托管代码受CLR的管理，因此具有更高的安全性、可靠性和跨平台性。
- **非托管代码（Unmanaged Code）：**
  - 非托管代码是不依赖CLR管理的代码，通常由底层语言（如C、C++）编写。
  - 非托管代码直接在计算机硬件上执行，不受CLR的控制和管理。
  - 由于非托管代码绕过了CLR的一些管理机制，可能导致内存泄漏、安全性问题等。
- **托管类型（Managed Types）：**
  - 托管类型是在CLR环境中定义和管理的数据类型。
  - 托管类型的对象由CLR负责内存分配和垃圾回收。
  - **引用类型**;**含引用类型或托管类型成员（字段、自动实现get访问器的属性）的结构**

- **非托管类型（Unmanaged Types）：**
  - 非托管类型是在非托管环境中定义的数据类型，通常由底层语言（如C、C++）定义。
  - 在与非托管代码交互的时候，C#代码可能需要使用一些特殊的机制（如Interop）来处理非托管类型。
  - **枚举**;**指针**;**不含引用类型及托管类型成员（字段、自动实现get访问器的属性）的结构**

